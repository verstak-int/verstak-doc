# Полки

## Без Полок

На проектах без Полок процесс такой:

1. Найти страницы, которые нужно исправить. Они могут быть видны только под определённой учётной записью или при состоянии фильтра.
2. Сохранить страницы в виде «только `html`» в папке с номером задачи и человекопонятным названием.
3. Если в рамках задачи нужно править изображения или скрипты, то понять где и как они размещаются на проекте.
4. Исправить и сохранить в системе контроля версий.

Дополнительные неудобства:

* Компоненты везде описываются полностью, отчего страница состоит из большого количества разметки, в котором сложно разбираться;
* если нужно исправить компонент, приходится искать и править все вхождения на всех страницах.


## С Полками

Полки выводят составляющие проекта на нескольких вкладках:

* упрощают поиск;
* мотивируют использовать готовое.


### Компонент

Все страницы разделяются на независимые части.
На страницах вместо этого

```html
<div class="TextCounter">
	<input type="text" class="TextCounter__input">
	<span class="TextCounter__сontrols">
		<span class="TextCounter__сontrol TextCounter__сontrol--more" tabindex="0">Больше</span>
		<span class="TextCounter__сontrol TextCounter__сontrol--less" tabindex="0">Меньше</span>
	</span>
	<button class="TextCounter__recalculate" type="submit">Пересчитать</button>
</div>
```

пишем специальную разметку

```html
<th-b data-b="TextCounter" data-param='{
	"recalculate": "true"
}'></th-b>
```

При генерации страницы нестандартная разметка заменится на настоящую.

Правим файл `TextCounter.php`, и этот компонент изменяется на всём проекте.

Читайте подробней [о создании компонентов](polki-b.md).


### Страница

* Создаётся под названием, которое она имеет на сайте;
* наполняется максимально полно;
* развивается вместе с сайтом.

Состояние страницы выносится на отдельную страницу только в случае слишком отличающейся разметки.


### Изображение

Изображение не привязано к конкретному компоненту, поэтому вынесено в отдельную вкладку. Изображения выводятся по папкам.

По нажатию на изображение в буфер обмена копируются стили. С их помощью картинку можно использовать в вёрстке сайта.


## Почему на ПХП?

Локальный сервер работает на ПХП, есть у всех.

Наши сайты на ПХП и программистам проще разобраться в шаблонах компонентов на привычном языке.

Чтобы сделать инструмент с такими же функциями, например, на джаваскрипте, пришлось бы потратить гораздо больше времени:

* на саму разработку: понадобится устанавливать модули, аналогично встроенным в ПХП;
* на обучение: никто не знает фреймворков на ДжС, а верстать страницы надо уже сейчас.


## Как получить разметку компонента из скрипта?

Об этом читайте на странице [об АПИ](polki-api.md).
